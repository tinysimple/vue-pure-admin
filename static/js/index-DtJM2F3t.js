import{d as b,p as r,r as v,j as B,w as u,c as d,o as p,b as m,h as _,e as o,g as D,O as f,W as i,u as h,bg as I,P as N,ax as V}from"./index-BbxVbw8z.js";import{R as j}from"./index-_cdnkFlp.js";const z={"element-loading-background":"transparent"},A={class:"w-[18vw]"},E={class:"mt-1 text-center"},J={class:"flex flex-wrap justify-center items-center text-center"},M={key:1,class:"mt-1"},O=b({name:"ReCropperPreview",__name:"index",props:{imgSrc:String},emits:["cropper"],setup(g,{expose:w,emit:C}){const x=C,e=r(),l=r(),k=r(),t=r(!1),s=r("");function R({base64:c,blob:n,info:a}){e.value=a,s.value=c,x("cropper",{base64:c,blob:n,info:a})}function y(){l.value.hide()}return w({hidePopover:y}),(c,n)=>{const a=v("el-image"),P=v("el-popover"),S=B("loading");return u((p(),d("div",z,[m(P,{ref_key:"popoverRef",ref:l,visible:t.value,placement:"right",width:"18vw"},{reference:_(()=>[o("div",A,[m(h(j),{ref_key:"refCropper",ref:k,src:g.imgSrc,circled:"",onCropper:R,onReadied:n[0]||(n[0]=W=>t.value=!0)},null,8,["src"]),u(o("p",E," 温馨提示：右键上方裁剪区可开启功能菜单 ",512),[[N,t.value]])])]),default:_(()=>[o("div",J,[s.value?(p(),D(a,{key:0,src:s.value,"preview-src-list":Array.of(s.value),fit:"cover"},null,8,["src","preview-src-list"])):f("",!0),e.value?(p(),d("div",M,[o("p",null," 图像大小："+i(parseInt(e.value.width))+" × "+i(parseInt(e.value.height))+"像素 ",1),o("p",null," 文件大小："+i(h(I)(e.value.size))+"（"+i(e.value.size)+" 字节） ",1)])):f("",!0)])]),_:1},8,["visible"])])),[[S,!t.value]])}}}),F=V(O);export{F as R};
