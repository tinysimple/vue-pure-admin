var F=Object.defineProperty,V=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var N=(n,e,t)=>e in n?F(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||(e={}))w.call(e,t)&&N(n,t,e[t]);if(_)for(var t of _(e))D.call(e,t)&&N(n,t,e[t]);return n},S=(n,e)=>V(n,$(e));var k=(n,e,t)=>new Promise((v,o)=>{var c=s=>{try{i(t.next(s))}catch(d){o(d)}},u=s=>{try{i(t.throw(s))}catch(d){o(d)}},i=s=>s.done?v(s.value):Promise.resolve(s.value).then(c,u);i((t=t.apply(n,e)).next())});import{d as I,p as g,a$ as p,t as K,K as h,c as O,o as E,S as X,b as Y,g as z,O as M,u as L,R as C,h as j,e as y,f as G,gK as H,gL as J,a1 as Q,_ as U}from"./index-BbxVbw8z.js";import{P as q,u as W,a as Z,g as ee,_ as te,b as ae}from"./vue-flow-core-XYsnqlTG.js";const ne=I({__name:"animationEdge",props:{id:{type:String,required:!0},source:{type:String,required:!0},target:{type:String,required:!0},sourceX:{type:Number,required:!0},sourceY:{type:Number,required:!0},targetX:{type:Number,required:!0},targetY:{type:Number,required:!0},sourcePosition:{type:String,default:q.Right},targetPosition:{type:String,default:q.Left}},setup(n){const e=n,{findEdge:t}=W(),v=Z([e.target,e.source]),o=g(0),c=g(),u=g({x:0,y:0}),i=g(0),s=p(()=>v.value[0].data),d=p(()=>v.value[1].data),A=p(()=>d.value.isFinished),R=p(()=>s.value.isCancelled),l=g(!1),T=p(()=>s.value.hasError?"#f87171":s.value.isFinished?"#42B983":s.value.isCancelled||s.value.isSkipped?"#fbbf24":s.value.isRunning||l.value?"#2563eb":"#6b7280"),B=K(()=>ee(e));h(R,r=>{r&&x()}),h(l,r=>{const a=t(e.id);a&&(a.data=S(P({},a.data),{isAnimating:r}))}),h(o,r=>{var f;const a=(f=c.value)==null?void 0:f.pathEl;if(!a||r===0||!l.value)return;const m=a.getTotalLength();if(i.value!==m){b();return}u.value=a.getPointAtLength(r)}),h(A,r=>{r&&b()});function b(){return k(this,null,function*(){var f;const r=(f=c.value)==null?void 0:f.pathEl;if(!r)return;const a=r.getTotalLength(),m=o.value||0;u.value=r.getPointAtLength(m),l.value=!0,i.value!==a&&(i.value=a),yield H(o,m,a,{transition:J.easeInOutCubic,duration:Math.max(1500,a/2),abort:()=>!l.value}),x()})}function x(){Q(()=>{o.value=0,i.value=0,u.value={x:0,y:0},l.value=!1})}return(r,a)=>(E(),O(X,null,[Y(L(te),{id:n.id,ref_key:"edgeRef",ref:c,path:B.value[0],style:C({stroke:T.value})},null,8,["id","path","style"]),l.value?(E(),z(L(ae),{key:0},{default:j(()=>[y("div",{style:C({transform:`translate(-50%, -50%) translate(${u.value.x}px,${u.value.y}px)`}),class:"nodrag nopan animated-edge-label"},a[0]||(a[0]=[y("span",{class:"truck"},[y("span",{class:"box"},"ðŸ“¦"),G(" ðŸšš ")],-1)]),4)]),_:1})):M("",!0)],64))}}),oe=U(ne,[["__scopeId","data-v-bf803707"]]);export{oe as default};
